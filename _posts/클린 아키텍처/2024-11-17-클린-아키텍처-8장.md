---
layout: post
title: "클린 아키텍처 8장: SOLID 원칙 - OCP(개방폐쇄원칙)"
author: "Jin"
tags: CleanArchitecture
---
## OCP (Open-Closed Principle, 개방-폐쇄 원칙)

개방-폐쇄 원칙은 소프트웨어 개체는 확장에는 열려 있어야 하고, 변경에는 닫혀 있어야 한다는 원칙이다. 즉, 새로운 기능이나 요구 사항을 추가할 때 기존 코드를 수정하지 않고도 기능을 확장할 수 있도록 설계해야 한다. 이를 통해 기존 기능을 안정적으로 유지하면서도 새로운 요구 사항에 유연하게 대응할 수 있다. OCP는 다음과 같은 개념들을 포함한다.

**확장 가능성**
새로운 기능을 추가할 때 기존 코드를 변경하지 않고도 기존 클래스나 모듈을 확장할 수 있어야 한다.
이를 위해 추상화와 인터페이스를 활용해 기능을 확장 가능한 구조로 설계한다.

**변경 폐쇄성**
기존의 코드나 모듈은 외부의 새로운 요구 사항에 의해 수정되지 않도록 설계한다.
변경 가능성을 줄이기 위해 기존 코드의 동작을 변경하지 않고 확장하는 방법을 고려한다.

### OCP의 적용 사례

재무제표 보고서를 웹페이지로 보여주는 시스템이 있다고 하자. 이때 보고서를 프린터로 출력하는 기능이 추가로 필요한 상황을 가정한다.

**책임 분리**
보고서 데이터를 생성하는 부분과 데이터를 출력하는 부분(웹, 프린터)을 분리한다.
이렇게 분리하면 한 책임에 대한 변경이 다른 책임에 영향을 미치지 않는다.

**확장 가능한 설계**
출력 방식을 확장할 때 기존 코드를 수정하지 않고도 새로운 출력 방식을 추가할 수 있는 구조를 만든다.
예를 들어, 출력 방식을 인터페이스로 정의하고, 웹 출력 클래스와 프린터 출력 클래스를 각각 구현한다.

**새로운 기능 추가**
새로운 출력 방식이 필요할 경우 기존 코드는 그대로 두고 새로운 출력 클래스를 추가로 구현하기만 하면 된다. 이를 통해 시스템을 최소한으로 변경하면서도 기능 확장이 가능하다.

### OCP와 정보 은닉
OCP를 준수하면 정보 은닉이 자연스럽게 이루어진다.

- 각 클래스나 모듈은 자신이 속하지 않은 다른 모듈의 내부 구현을 알 필요가 없다.
- 외부에서 접근 가능한 인터페이스만 노출하고 내부 동작은 캡슐화한다.
- 이렇게 설계하면 유지보수성이 높아지고, 변경에 대한 위험성이 줄어든다.

### OCP를 구현하는 설계 원칙

**추상화 의존**

구체적인 구현보다는 인터페이스나 추상 클래스에 의존하도록 설계한다.
이를 통해 구체적인 클래스가 변경되더라도 시스템의 다른 부분에는 영향을 미치지 않는다.

**디자인 패턴 활용**
전략 패턴, 데코레이터 패턴, 팩토리 패턴 등 OCP를 실현하는 다양한 디자인 패턴을 활용한다.